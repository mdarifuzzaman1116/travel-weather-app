const{app:app,BrowserWindow:BrowserWindow,ipcMain:ipcMain}=require("electron"),path=require("path"),TravelDataScraper=require("./scraper"),scraper=new TravelDataScraper;function createWindow(){const mainWindow=new BrowserWindow({width:1400,height:900,webPreferences:{nodeIntegration:!0,contextIsolation:!1},backgroundColor:"#f0f4f8",icon:path.join(__dirname,"assets/icon.png")});mainWindow.loadFile("index.html"),process.argv.includes("--dev")&&mainWindow.webContents.openDevTools()}ipcMain.handle("search-countries",(async(event,query)=>await scraper.searchCountries(query))),ipcMain.handle("get-country-info",(async(event,country)=>await scraper.getCountryTravelInfo(country))),ipcMain.handle("get-csv-path",(async()=>scraper.getCsvPath())),ipcMain.handle("load-csv-data",(async()=>await scraper.loadFromCsv())),app.whenReady().then((()=>{createWindow(),app.on("activate",(function(){0===BrowserWindow.getAllWindows().length&&createWindow()}))})),app.on("window-all-closed",(function(){"darwin"!==process.platform&&app.quit()}));